---
# tasks file for host_configs

- name: Install a .deb package
  apt:
      deb: https://download.docker.com/linux/ubuntu/dists/artful/pool/stable/amd64/docker-ce_18.06.3~ce~3-0~ubuntu_amd64.deb

- name: Install supervisor
  apt:
    name: supervisor
    state: latest
    update_cache: yes

- name: Copy files
  copy:
    src: /.
    dest: ~/.ssh/ssh_keys/
    remote_src: yes
    owner: root
    group: root
    mode: "1777"
    directory_mode: yes

- name: Create a symbolic link
  file:
    dest: ~/.ssh/ssh_keys/

- name: add the public key into Authorized_keys file to enable Key Auth
  shell: "cat ~/.ssh/ssh_keys/* > ~/.ssh/authorized_keys"