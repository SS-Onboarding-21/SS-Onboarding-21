---
# tasks file for host_configs

- name: Install a .deb package
  apt:
      deb: https://download.docker.com/linux/ubuntu/dists/artful/pool/stable/amd64/docker-ce_18.06.3~ce~3-0~ubuntu_amd64.deb

- name: Install supervisor
  apt:
    name: supervisor
    state: latest
    update_cache: yes

- name: Create a directory if it does not exist
  file:
    path: ~/.ssh/ssh_keys/
    state: directory
    mode: '1777'

- name: Copy files
  copy:
    src: .
    dest: ~/.ssh/ssh_keys/
    remote_src: yes
    mode: "1777"
    directory_mode: yes


- name: add the public key into Authorized_keys file to enable Key Auth
  shell: "cat ~/.ssh/ssh_keys/* > ~/.ssh/authorized_keys"